<!DOCTYPE html>
<html lang="en">
<head>
 <title>ECHOSYSTEMS "hovering"</title>
 <meta charset="utf-8" />
 <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0" />
 <link href="https://vjs.zencdn.net/7.20.3/video-js.css" rel="stylesheet" />
 <style>
 @font-face {
   font-family: 'TsukimiRounded';
   src: url('fonts/TsukimiRounded-Regular.ttf') format('truetype');
   font-weight: 400;
 }
 body {
   background-color: black;
   color: white;
   font-family: sans-serif;
   margin: 0;
   padding: 20px;
   display: flex;
   flex-direction: column;
   align-items: center;
   justify-content: flex-start;
   min-height: 100vh;
   text-align: center;
   box-sizing: border-box;
 }
 h1 {
   font-size: 3rem;
   margin-bottom: 0;
   font-family: 'TsukimiRounded', sans-serif;
   font-weight: 400;
 }
 p {
   font-size: 2rem;
   margin-top: 0;
   margin-bottom: 1rem;
   font-style: normal;
   font-family: 'Courier New', monospace;
 }
 .button-container {
   display: flex;
   gap: 1rem;
   margin-bottom: 1rem;
 }
 button {
   background: white;
   color: black;
   border: none;
   padding: 0.75em 1.5em;
   font-size: 1em;
   cursor: pointer;
   border-radius: 10px;
   font-family: 'Courier New', monospace;
 }
 #hoast360-player {
   width: 700px;
   max-width: 85vw;
   height: 350px;
   max-height: 45vh;
   position: relative;
   border: 1px solid white;
   margin: 0 auto;
 }
 #hoast360-player canvas {
   max-width: 100%;
   height: auto;
   display: block;
   margin: 0 auto;
 }
 @media (max-height: 700px) {
   h1 { font-size: 2.5rem; }
   p { font-size: 1.75rem; }
   #hoast360-player {
     height: 300px;
     max-height: 40vh;
   }
 }
</style>
</head>
<body>
 <h1>ECHOSYSTEMS</h1>
 <p>"hovering"</p>
 <div class="button-container">
   <button onclick="init()">Load</button>
   <button onclick="stop()">Stop</button>
 </div>
 <video-js
   id="hoast360-player"
   class="video-js vjs-fluid vjs-big-play-centered"
   controls
   preload="auto"
   crossorigin="anonymous"
   data-setup="{}"
 >
   <p class="vjs-no-js">
     To view this video please enable JavaScript, and consider upgrading to a web browser that
     <a href="https://videojs.com/html5-video-support/" target="_blank">supports HTML5 video</a>.
   </p>
 </video-js>
 <script src="./dist/hoast360.bundle.js"></script>
 <script>
   var hoast360 = new HOAST360();

   // Archive.org URLs for your media files - using CORS-friendly ia URLs
   const MEDIA_URLS = {
     videoFile: 'https://ia801304.us.archive.org/2/items/ds-store_20250519/media/hovering/na_hovering.webm',
     audioFile: 'https://ia601304.us.archive.org/2/items/ds-store_20250519/media/hovering/3OA_hovering.webm',
     videoMpd: 'https://ia801304.us.archive.org/2/items/ds-store_20250519/media/hovering/video.mpd',
     audioMpd: 'https://ia601304.us.archive.org/2/items/ds-store_20250519/media/hovering/audio.mpd',
     basePath: 'https://ia801304.us.archive.org/2/items/ds-store_20250519/'
   };

   function init() {
     console.log("=== HOAST360 Debug Info ===");
     console.log("typeof HOAST360:", typeof HOAST360);
     console.log("HOAST360 constructor:", HOAST360);
     console.log("hoast360 instance:", hoast360);
     console.log("hoast360.initialize:", typeof hoast360.initialize);
     console.log("Media URLs:", MEDIA_URLS);

     if (typeof hoast360.initialize === 'function') {
       console.log("initialize method exists");
       console.log("Function signature:", hoast360.initialize.toString().substring(0, 200));
     } else {
       console.error("initialize method is missing!");
       return;
     }

     console.log("=== Attempting HOAST360 initialization with Archive.org URLs ===");

     try {
       // Method 1: Try with MPD files (most likely for DASH)
       console.log("Trying with MPD files...");
       hoast360.initialize(MEDIA_URLS.videoMpd, MEDIA_URLS.audioMpd);
       console.log("MPD initialization succeeded");

     } catch (mpdError) {
       console.error("MPD initialization failed:", mpdError.message);

       try {
         // Method 2: Try with direct video/audio files
         console.log("Trying with direct media files...");
         hoast360.initialize(MEDIA_URLS.videoFile, MEDIA_URLS.audioFile);
         console.log("Direct media initialization succeeded");

       } catch (directError) {
         console.error("Direct media initialization failed:", directError.message);

         try {
           // Method 3: Try with configuration object
           console.log("Trying with configuration object...");
           hoast360.initialize({
             video: MEDIA_URLS.videoFile,
             audio: MEDIA_URLS.audioFile,
             videoMpd: MEDIA_URLS.videoMpd,
             audioMpd: MEDIA_URLS.audioMpd,
             basePath: MEDIA_URLS.basePath
           });
           console.log("Configuration object initialization succeeded");

         } catch (configError) {
           console.error("Configuration object initialization failed:", configError.message);

           try {
             // Method 4: Try with player element and URLs
             console.log("Trying with player element...");
             const playerElement = document.getElementById('hoast360-player');
             hoast360.initialize(playerElement, MEDIA_URLS.videoMpd, MEDIA_URLS.audioMpd);
             console.log("Player element initialization succeeded");

           } catch (playerError) {
             console.error("Player element initialization failed:", playerError.message);

             try {
               // Method 5: Try overriding media path
               console.log("Trying with path override...");
               hoast360.initialize("hovering", MEDIA_URLS.basePath);
               console.log("Path override initialization succeeded");

             } catch (pathError) {
               console.error("Path override initialization failed:", pathError.message);

               try {
                 // Method 6: Try with individual parameters
                 console.log("Trying with individual parameters...");
                 hoast360.initialize(
                   "hovering",
                   MEDIA_URLS.basePath,
                   MEDIA_URLS.videoFile,
                   MEDIA_URLS.audioFile
                 );
                 console.log("Individual parameters initialization succeeded");

               } catch (individualError) {
                 console.error("Individual parameters initialization failed:", individualError.message);
                 console.error("=== All initialization methods failed ===");
                 console.error("Please check HOAST360 documentation for correct parameter format");
               }
             }
           }
         }
       }
     }
   }

   function stop() {
     try {
       hoast360.reset();
       console.log("HOAST360 reset successfully");
     } catch (error) {
       console.error("HOAST360 reset failed:", error.message);
     }
   }
 </script>
</body>
</html>
